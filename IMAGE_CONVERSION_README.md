# 🖼️ 이미지 형식 통일 스크립트

`restaurant_images` 폴더의 모든 이미지 파일을 JPG 형식으로 통일하는 Python 스크립트입니다.

## 📋 기능

- **JPEG, PNG 파일을 JPG로 변환**
- **원본 파일 백업** (선택사항)
- **투명도 처리** (RGBA → RGB 변환)
- **이미지 품질 최적화** (95% 품질)
- **변환 진행상황 표시**
- **상세한 결과 요약**

## 🚀 사용 방법

### 1. 필요한 패키지 설치
```bash
pip install -r requirements.txt
```

### 2. 스크립트 실행
```bash
python convert_images_to_jpg.py
```

### 3. 옵션 선택
- **백업 여부**: 원본 파일을 백업할지 선택 (기본값: y)
- **실행 확인**: 변환을 시작할지 최종 확인

## 📁 파일 구조

```
michelin-map/
├── restaurant_images/           # 원본 이미지 폴더
│   ├── 레스토랑명_01.jpeg
│   ├── 레스토랑명_02.png
│   └── ...
├── restaurant_images_backup/    # 백업 폴더 (선택시 생성)
│   ├── 레스토랑명_01.jpeg
│   ├── 레스토랑명_02.png
│   └── ...
└── convert_images_to_jpg.py     # 변환 스크립트
```

## ⚠️ 주의사항

1. **원본 파일 변경**: 이 스크립트는 원본 파일을 삭제하고 JPG로 변환합니다.
2. **백업 권장**: 중요한 데이터이므로 백업을 활성화하는 것을 권장합니다.
3. **이미 JPG 파일**: 이미 JPG 형식인 파일은 스킵됩니다.
4. **중복 파일**: 같은 이름의 JPG 파일이 이미 존재하면 스킵됩니다.

## 🔧 변환 과정

1. **파일 스캔**: JPEG, PNG 파일 검색
2. **백업 생성**: 원본 파일을 백업 폴더에 복사 (선택시)
3. **이미지 변환**: 
   - RGBA/LA/P 모드 → RGB 모드 변환
   - 투명도 제거 (흰색 배경)
   - JPG 형식으로 저장 (95% 품질)
4. **원본 삭제**: 변환 완료 후 원본 파일 삭제
5. **결과 요약**: 변환 통계 출력

## 📊 출력 예시

```
🖼️  이미지 파일을 JPG로 변환하는 스크립트
==================================================
📁 대상 디렉토리: /path/to/restaurant_images
⚠️  이 작업은 원본 파일을 변경합니다.
💾 원본 파일을 백업하시겠습니까? (y/n, 기본값: y): y
🚀 변환을 시작하시겠습니까? (y/n): y

📁 백업 디렉토리 생성: /path/to/restaurant_images_backup
🔍 변환할 파일 150개 발견
🔄 변환 중: 레스토랑명_01.jpeg → 레스토랑명_01.jpg
✅ 완료: 레스토랑명_01.jpg
...

==================================================
📊 변환 결과 요약
==================================================
✅ 성공적으로 변환: 145개
⏭️  스킵된 파일: 5개
❌ 오류 발생: 0개
📁 총 처리된 파일: 150개
💾 백업 위치: /path/to/restaurant_images_backup

🎉 이미지 변환이 완료되었습니다!
```

## 🛠️ 문제 해결

### Pillow 설치 오류
```bash
# macOS
brew install libjpeg libpng
pip install Pillow

# Ubuntu/Debian
sudo apt-get install libjpeg-dev libpng-dev
pip install Pillow

# Windows
pip install Pillow
```

### 권한 오류
- 파일 쓰기 권한이 있는지 확인
- 관리자 권한으로 실행 (Windows)

### 메모리 부족
- 대용량 이미지의 경우 배치 처리로 나누어 실행
- 이미지 크기 확인 후 필요시 리사이즈

## 📝 라이선스

이 스크립트는 MIT 라이선스 하에 제공됩니다.
